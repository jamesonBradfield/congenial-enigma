# This file has been auto-generated by i3-config-wizard(1). It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#
# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!
set $mod Mod4
default_border pixel 0
default_floating_border pixel 0
focus_wrapping no
title_align center
# do not focus preview window on open
no_focus [title="^Peek preview$"]
# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:monospace 8, JetBrains NF Medium 12
for_window [title="SwiftRead"] floating enable
for_window [title="SwiftRead"] resize set width 1200px
for_window [title="SwiftRead"] move position center
for_window [title="HasCardWritemove position center "] floating disable
for_window [title="Add"] floating enable
for_window [title="HasCardReview"] floating disable
for_window [title="Floating_Terminal"] floating enable
for_window [class="Brave" instance="brave"] floating disable
# for_window [class="Brave" instance="brave"] resize set width 1200px
# for_window [class="Brave" instance="brave"] move position center

# cargo
# exec_always --no-startup-id $HOME/.cargo/bin/i3wsr
# GODOT FLOATING FIXES
for_window [title="Create New Node"] floating enable
for_window [title="Please Confirm..."] floating enable
for_window [instance="Godot_Editor"] floating disable
for_window [instance="Godot_Engine"] floating enable
no_focus [instance="Godot_Engine"]

# screenshotting program
exec shutter --min-at-startup
exec /home/jamie/.config/i3/i3ipc/i3ResizeFocused.py
# trying to launch polybar
exec_always --no-startup-id $HOME/.config/polybar/launch.sh

# Start XDG autostart .desktop files using dex. See also
# https://wiki.archlinux.org/index.php/XDG_Autostart
exec --no-startup-id dex --autostart --environment i3

# The combination of xss-lock, nm-applet and pactl is a popular choice, so
# they are included here as an example. Modify as you see fit.

# xss-lock grabs a logind suspend inhibit lock and will use i3lock to lock the
# screen before suspend. Use loginctl lock-session to lock your screen.
exec --no-startup-id xss-lock --transfer-sleep-lock -- i3lock --nofork

# NetworkManager is the most popular way to manage wireless networks on Linux,
# and nm-applet is a desktop environment-independent system tray GUI for it.
exec --no-startup-id nm-applet
exec dunst
exec_always picom -config=$HOME/.config/picom/picom.conf &
exec ~/bin/startAllTheMods.sh
exec xset s off
exec xset -dpms

# assigning workspaces to specific monitors.
workspace 1 output HDMI-A-0  
workspace 2 output HDMI-A-0 
workspace 3 output HDMI-A-0 
workspace 4 output HDMI-A-0 
workspace 5 output HDMI-A-0 
workspace 6 output HDMI-A-0
workspace 7 output HDMI-A-0
workspace 8 output HDMI-A-0
workspace 9 output HDMI-A-0
workspace 10 output HDMI-A-0

# https://github.com/ValveSoftware/steam-for-linux/issues/1040
for_window [class="^Steam$" title="^Friends$"] floating enable
for_window [class="^Steam$" title="Steam - News"] floating enable
for_window [class="^Steam$" title=".* - Chat"] floating enable
for_window [class="^Steam$" title="^Settings$"] floating enable
for_window [class="^Steam$" title=".* - event started"] floating enable
for_window [class="^Steam$" title=".* CD key"] floating enable
for_window [class="^Steam$" title="^Steam - Self Updater$"] floating enable
for_window [class="^Steam$" title="^Screenshot Uploader$"] floating enable
for_window [class="^Steam$" title="^Steam Guard - Computer Authorization Required$"] floating enable
for_window [title="^Steam Keyboard$"] floating enable
# smile stuffs
for_window [class="smile"] floating enable
# for_window [class="Dunst"] floating enable

# Use pactl to adjust volume in PulseAudio.
set $refresh_i3status killall -SIGUSR1 i3status
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +10% && $refresh_i3status
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -10% && $refresh_i3status
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle && $refresh_i3status
bindsym XF86AudioMicMute exec --no-startup-id pactl set-source-mute @DEFAULT_SOURCE@ toggle && $refresh_i3status

# Media player controls
bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

# not really sure what pmenu is.
# desc: pmenu
bindsym $mod+F8  exec ~/.config/i3/pmenu.sh
# desc: toggle_alsa_sink
bindsym $mod+F9  exec ~/.config/i3/toggle_sink.sh

##  Screenshots in files
# desc: screenshot current window
bindsym $mod+F1 exec --no-startup-id maim --format=png --window $(xdotool getactivewindow) "/home/$USER/Pictures/screenshot-$(date -u +'%Y%m%d-%H%M%SZ')-current.png"
# desc: screenshot selection
bindsym Shift+F1 exec --no-startup-id maim --format=png --select "/home/$USER/Pictures/screenshot-$(date -u +'%Y%m%d-%H%M%SZ')-selected.png"

## Screenshots in clipboards
# desc: screenshot selection to clipboard
bindsym Ctrl+F1 exec --no-startup-id maim --format=png | xclip -selection clipboard -t image/png
# desc: screenshot window to clipboard
bindsym Ctrl+$mod+F1 exec --no-startup-id maim --format=png --window $(xdotool getactivewindow) | xclip -selection clipboard -t image/png
# desc: screenshot desktop to clipboard
bindsym Ctrl+Shift+F1 exec --no-startup-id maim --format=png --select | xclip -selection clipboard -t image/png

# rofi bluetooth module

# desc: rofi bluetooth
bindsym $mod+b exec --no-startup-id rofi-bluetooth
# desc: message discord
bindsym $mod+Shift+d exec ~/bin/send-message-to-discord.sh

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# start a terminal
# desc: open terminal
bindsym $mod+Return exec alacritty

# kill focused window
# bindsym $mod+Shift+q exec $HOME/bin/PythonScripts/bin/python $HOME/bin/PythonScripts/Scripts/i3-execute-py-on-close.py

# desc: delete window
bindsym $mod+d exec i3-msg kill
# desc: start rofi
bindsym $mod+space exec --no-startup-id rofi -show run
# desc: start rofi
bindsym $mod+Shift+space exec --no-startup-id rofi -show window
# desc: move workspace to next monitor
bindsym $mod+Shift+w move workspace to output next
# desc: variety previous
bindsym $mod+Shift+b exec sh -c "variety -p"
# desc: variety next
bindsym $mod+Shift+m exec sh -c "variety -n"
# desc: start pomodoro
bindsym $mod+Shift+p exec sh -c "/home/jamie/bin/startPomo.sh"
# desc: start hascard (don't use)
bindsym $mod+Shift+f exec sh -c "python3.10 /home/jamie/bin/hascard.py" 
# desc: open vpn
bindsym $mod+v exec "/home/jamie/bin/mullvad_toggle.sh"
# desc: open notes
bindsym $mod+shift+z exec alacritty -T 'Telekasten' -e nvim -c 'Telekasten switch_vault' &
# desc: floating terminal
bindsym $mod+z exec alacritty -T 'Floating_Terminal' &
# desc: secret
bindsym $mod+Shift+n exec sh -c "/home/jamie/bin/togglensfw.sh"
# desc: move to scratchpad
bindsym $mod+Shift+g exec i3-msg move scratchpad
# desc: get window in scratchpad
bindsym $mod+s exec --no-startup-id "python ~/.config/rofi/i3-rofi-scratchpad/src/i3ipc_find_scratchpad.py"
# desc: move back to scratchpad
bindsym $mod+Shift+s exec "python ~/.config/rofi/i3-rofi-scratchpad/src/i3ipc_hide_all_scratchpad_window.py"
# change focus
# desc: focus left
bindsym $mod+h focus left
# desc: focus down
bindsym $mod+j focus down
# desc: focus up
bindsym $mod+k focus up
# desc: focus right
bindsym $mod+l focus right

# alternatively, you can use the cursor keys:
# desc: focus left
bindsym $mod+Left focus left
# desc: focus down
bindsym $mod+Down focus down
# desc: focus up
bindsym $mod+Up focus up
# desc: focus right
bindsym $mod+Right focus right

# move focused window
# desc: move left
bindsym $mod+Shift+h move left
# desc: move down
bindsym $mod+Shift+j move down
# desc: move up
bindsym $mod+Shift+k move up
# desc: move right
bindsym $mod+Shift+l move right
exec /usr/lib/policykit-1-gnome/polkit-gnome-authentication-agent-1

# alternatively, you can use the cursor keys:
# desc: move left
bindsym $mod+Shift+Left move left
# desc: move down
bindsym $mod+Shift+Down move down
# desc: move up
bindsym $mod+Shift+Up move up
# desc: move right
bindsym $mod+Shift+Right move right


# desc: scrape nerd-fonts
bindsym $mod+Shift+i exec bash "/home/jamie/bin/scrapenerdfonts.sh"

# split in horizontal orientation
# desc: toggle splits
bindsym $mod+backslash exec "~/bin/toggle_splits.sh"


# enter fullscreen mode for the focused container
# desc: fullscreen toggle
bindsym $mod+f fullscreen toggle

# change container layout (stacked, tabbed, toggle split)
# bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# toggle tiling / floating
bindsym $mod+Shift+t floating toggle

# change focus between tiling / floating windows
bindsym $mod+t focus mode_toggle

# focus the parent container
bindsym $mod+a focus parent

# focus the child container
#bindsym $mod+d focus child
set $ws1 1
set $ws2 2
set $ws3 3
set $ws4 4
set $ws5 5
set $ws6 6
set $ws7 7
set $ws8 8
set $ws9 9
# switch to workspace
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

# move focused container to workspace
bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10

# reload the configuration file
bindsym $mod+Shift+c reload
# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $mod+Shift+r restart
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'"

# resize window (you can also use the mouse for that)
mode "resize" {
        # These bindings trigger as soon as you enter the resize mode

        # Pressing left will shrink the window’s width.
        # Pressing right will grow the window’s width.
        # Pressing up will shrink the window’s height.
        # Pressing down will grow the window’s height.
        bindsym h resize shrink width 10 px or 10 ppt
        bindsym j resize grow height 10 px or 10 ppt
        bindsym k resize shrink height 10 px or 10 ppt
        bindsym l resize grow width 10 px or 10 ppt

        # same bindings, but for the arrow keys
        bindsym Left resize shrink width 10 px or 10 ppt
        bindsym Down resize grow height 10 px or 10 ppt
        bindsym Up resize shrink height 10 px or 10 ppt
        bindsym Right resize grow width 10 px or 10 ppt

        # back to normal: Enter or Escape or $mod+r
        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym $mod+r mode "default"
}

bindsym $mod+r mode "resize"

# target                 title     bg    text   indicator  border
client.focused           #b4befe #1e1e2e #cdd6f4  #f5e0dc #7f849c
client.focused_inactive  #6c7086 #1e1e2e #cdd6f4  #f5e0dc #6c7086
client.unfocused         #6c7086 #1e1e2e #cdd6f4  #f5e0dc #6c7086
client.urgent            #fab387 #1e1e2e #fab387  #6c7086 #fab387
client.placeholder       #6c7086 #1e1e2e #cdd6f4  #6c7086 #6c7086
client.background        #1e1e2e






# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
# bar {
#     position top
#     status_command i3blocks
# 	i3bar_command i3bar --transparency
# 	font pango:JetBrainsMono NerdFont 16
# 	colors{
#       background         #bf000000
#       statusline         #cdd6f4
#       focused_statusline #cdd6f4
#       active_workspace   #181825 #cdd6f4 #89b4fa
#       focused_separator  #181825
#       focused_workspace  #181825 #181825 #a6e3a1
#       active_workspace   #181825 #181825 #89b4fa
#       inactive_workspace #181825 #181825 #45475a
#       urgent_workspace   #181825 #181825 #45475a
#       binding_mode       #181825 #181825 #45475a
#     }
# }

mode "exit: [l]ogout, [r]eboot, [s]hutdown, [S]uspend" {

  bindsym l exec i3-msg exit

  bindsym r exec systemctl reboot

  bindsym s exec gsudo.sh systemctl shutdown
  
	bindsym Shift+s exec systemctl suspend


  bindsym Escape mode "default"

  bindsym Return mode "default"
}
# Quiet mode

mode "quiet" {
        # These bindings trigger as soon as you enter the resize mode

        # Move a window in and out the quiet mode
        bindsym q exec ~/.config/i3/i3ipc/quiet-cmd.py toggle ; mode "default"

        # Resize the window in quiet mode
        bindsym s exec ~/.config/i3/i3ipc/quiet-cmd.py resize small
        bindsym m exec ~/.config/i3/i3ipc/quiet-cmd.py resize medium
        bindsym l exec ~/.config/i3/i3ipc/quiet-cmd.py resize large

        # back to normal
        bindsym Escape mode "default"
        bindsym Return mode "default"
        bindsym Caps_Lock mode "default"
        bindsym $mod+d mode "default"
}

bindsym $mod+q exec $HOME/.config/i3/quiet-cmd.py switch
bindsym $mod+Shift+q mode "quiet"
exec_always $HOME/.config/i3/quiet-toggle-bar.py --kill
gaps outer 50px
gaps inner 25px
bindsym $mod+x mode "exit: [l]ogout, [r]eboot, [s]hutdown, [S]uspend"
